<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Cadastro ‚Ä¢ GOIA</title>
    <link rel="stylesheet" href="/static/css/cadastro.css">
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <link rel="icon" type="image/png" href="/static/img/goia-icon-header.png">
    
    <!-- Vari√°vel JavaScript ser√° definida pelo servlet -->
    <script>
        // Ser√° definida pelo servlet quando houver sucesso
        window.cadastroSucesso = false;
    </script>
</head>
<body>

<header>
    <img src="/static/img/goia-icon-header.png" alt="Logo GOIA" class="icone-goia" style="width: 52px;">
    <a href="/" class="logo-link">
        <h1>GOIA</h1>
    </a>
</header>

<main class="container-principal">
    <div class="wizard-wrapper">
        <div class="logos-container">
            <img src="/static/img/goia-bank-logo.png" alt="GOIA Bank" class="logo-dual">
            <img src="/static/img/goia-shop-logo.png" alt="GOIA Shop" class="logo-dual">
        </div>
        
        <!-- T√≠tulos do Ecossistema GOIA -->
        <div class="ecossistema-goia">
            <h1 class="goia-title">GOIA Bank</h1>
            <div class="goia-separator">
                <!-- S√≠mbolos alternativos: + & √ó ‚ö° ‚óä ‚òÖ ‚¨¢ -->
                <span class="separator-symbol">+</span>
            </div>
            <h1 class="goia-title">GOIA Shop</h1>
        </div>
        
        <!-- Frase descritiva -->
        <p class="ecossistema-descricao">Crie sua conta e tenha acesso ao ecossistema GOIA, seu banco e marketplace a poucos cliques</p>
        
        <h2 class="titulo">Abra sua conta</h2>
        <p  class="subtitulo">Leva apenas alguns minutos.</p>

        <form id="wizard" action="/cadastro" method="post" novalidate>
            <!-- Campo ser√° preenchido via JavaScript quando houver sucesso -->
            <progress id="progress" value="1" max="4"></progress>

            <!-- PASSO 1 -->
            <!-- PASSO 1 -->
            <fieldset data-step="1" class="active">
                <legend>Seus dados</legend>

                <label for="nome">Nome completo</label>
                <input id="nome" name="nome" type="text" required placeholder="Ex.: Ana Silva">

                <label for="cpf">CPF</label>
                <input id="cpf" name="cpf" type="text" maxlength="14" required placeholder="Somente n√∫meros">
                <span id="cpf-msg" class="msg-erro">CPF j√° cadastrado.</span>

                <label for="dataNascimento">Data de nascimento</label>
                <!-- limite at√© 31 dez 2025 -->
                <input id="dataNascimento"
                       name="dataNascimento"
                       type="date"
                       required
                       max="2025-12-31">
                <span id="nasc-msg" class="msg-erro">Voc√™ deve ter pelo menos 18 anos para criar uma conta.</span>
            </fieldset>

            <!-- PASSO 2 -->
            <fieldset data-step="2">
                <legend>Contato</legend>

                <label for="email">E-mail</label>
                <input id="email" name="email" type="email" required placeholder="voce@email.com">
                <span id="email-msg" class="msg-erro">E-mail deve estar em formato v√°lido (ex: nome@email.com).</span>

                <label for="celular">Celular (11 d√≠gitos)</label>
                <input id="celular" name="celular" type="tel"
                       pattern="\d{11}" maxlength="11" required placeholder="11987654321">

                <label for="cep">CEP</label>
                <input id="cep" name="cep" type="text"
                       pattern="\d{8}" maxlength="8" required placeholder="00000000">
            </fieldset>

            <!-- PASSO 3 -->
            <fieldset data-step="3">
                <legend>Seguran√ßa</legend>

                <label for="senha">Senha (6 d√≠gitos)</label>
                <input id="senha" name="senha" type="password"
                       pattern="\d{6}" minlength="6" maxlength="6" required placeholder="******">
                <span id="senha-msg" class="msg-erro">A senha deve conter apenas n√∫meros (6 d√≠gitos).</span>

                <label for="confirma">Confirmar senha</label>
                <input id="confirma" type="password"
                       pattern="\d{6}" minlength="6" maxlength="6" required>
            </fieldset>


            <!-- PASSO 4 -->
            <fieldset data-step="4">
                <legend>Revise seus dados</legend>
                <div id="resumo"></div>
                <button type="submit" class="btn-principal">Criar conta</button>
            </fieldset>

            <div class="wizard-nav">
                <button type="button" id="prev">Voltar</button>
                <button type="button" id="next">Pr√≥ximo</button>
            </div>
        </form>
    </div>
</main>

<footer class="footer">
    <div class="footer__section">
        <h4>Banco GOIA</h4>
        <p>
            Rua Casa da Atriz, 969, Vila Ol√≠mpia<br>
            Hor√°rio de funcionamento: 10h √†s 17h
        </p>
    </div>
    <div class="footer__section">
        <h4>Atendimento</h4>
        <p>
            Central de Relacionamento<br>
            Ligue no 4004 123456
        </p>
    </div>
    <div class="footer__section">
        <h4>SAC</h4>
        <p>
            Para registrar sugest√µes,<br>
            reclama√ß√µes ou elogios:<br>
            0800 123 1234
        </p>
        <p>
            Ouvidoria:<br>
            0800 123 1234
        </p>
    </div>
    <!-- NPS existente -->
    <div class="container-nps">
        <div class="nps-header">
            <h5>Avalie o nosso servi√ßo</h5>
            <hr>
        </div>
        <div class="faces">
            <div class="face-item" data-feedback="1">
                <img src="/static/img/mau-rosa.png" alt="Insatisfeito">
                <h6>Insatisfeito</h6>
            </div>
            <div class="face-item" data-feedback="2">
                <img src="/static/img/medio-rosa.png" alt="Indiferente">
                <h6>Indiferente</h6>
            </div>
            <div class="face-item" data-feedback="3">
                <img src="/static/img/ok-rosa.png" alt="Satisfeito">
                <h6>Satisfeito</h6>
            </div>
            <div class="face-item" data-feedback="4">
                <img src="/static/img/feliz-rosa.png" alt="Muito satisfeito">
                <h6>Muito satisfeito</h6>
            </div>

        </div>

    </div>
    <div class="img-24h">
        <img src="/static/img/24h.png" alt="24H">
    </div>
</footer>

<!-- ---------- POP-UP de sucesso ---------- -->
<div id="popupSucesso" class="popup-mask">
    <div class="popup-box">
        <img src="/static/img/mascote-feliz.png" alt="Mascote Feliz" style="width:80px;height:80px;margin-bottom:20px;border-radius:50%;">
        <h3>üéâ Conta criada com sucesso!</h3>
        <p>Bem-vindo(a) ao <strong>GOIA Bank</strong>!<br>
        Sua conta foi criada e voc√™ ganhou <strong>R$ 1.500</strong> de b√¥nus.<br>
        Agora √© s√≥ fazer o login e aproveitar.</p>
        <button id="btnOk">Voltar ao In√≠cio</button>
    </div>
</div>

<script>
// Debug: Verifica dom√≠nio atual e URLs
console.log('=== DEBUG CADASTRO ===');
console.log('URL completa:', window.location.href);
console.log('Dom√≠nio:', window.location.hostname);
console.log('Protocol:', window.location.protocol);
console.log('Path:', window.location.pathname);
console.log('Search:', window.location.search);


</script>
<script src="/static/js/url-manager.js"></script>  <!-- Gerenciador de URLs din√¢micas -->
<script src="/static/js/cadastro.js"></script>
</body>
</html>
